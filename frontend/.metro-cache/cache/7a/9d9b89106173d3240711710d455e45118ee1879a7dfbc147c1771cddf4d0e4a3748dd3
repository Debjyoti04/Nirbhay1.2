{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"zustand","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":33,"index":33}}],"key":"POPvx7yS3Y3wz+S/9OAefiXNs0Q=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":34},"end":{"line":2,"column":69,"index":103}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"useTripStore\", {\n    enumerable: true,\n    get: function () {\n      return useTripStore;\n    }\n  });\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _zustand = require(_dependencyMap[1], \"zustand\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[2], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var useTripStore = (0, _zustand.create)((set, get) => ({\n    currentTrip: null,\n    isTracking: false,\n    locations: [],\n    motionStatus: 'normal',\n    lastRiskRule: null,\n    guardianPhone: '',\n    trackingSource: 'gps',\n    accuracy: 0,\n    setGuardianPhone: function () {\n      var _ref = (0, _asyncToGenerator.default)(function* (phone) {\n        set({\n          guardianPhone: phone\n        });\n        // Persist to storage\n        try {\n          yield AsyncStorage.default.setItem('guardian_phone', phone);\n        } catch (e) {\n          console.error('Failed to save guardian phone:', e);\n        }\n      });\n      return function setGuardianPhone(_x) {\n        return _ref.apply(this, arguments);\n      };\n    }(),\n    startTrip: trip => {\n      set({\n        currentTrip: trip,\n        isTracking: true,\n        locations: [],\n        motionStatus: 'normal',\n        lastRiskRule: null\n      });\n    },\n    endTrip: () => {\n      set({\n        currentTrip: null,\n        isTracking: false,\n        motionStatus: 'normal',\n        lastRiskRule: null\n      });\n    },\n    addLocation: location => {\n      set(state => ({\n        locations: [...state.locations, location].slice(-100) // Keep last 100 points\n      }));\n    },\n    setMotionStatus: status => {\n      set({\n        motionStatus: status\n      });\n    },\n    setLastRiskRule: rule => {\n      set({\n        lastRiskRule: rule\n      });\n    },\n    setTrackingSource: source => {\n      set({\n        trackingSource: source\n      });\n    },\n    setAccuracy: accuracy => {\n      set({\n        accuracy\n      });\n    },\n    clearLocations: () => {\n      set({\n        locations: []\n      });\n    },\n    loadSavedGuardian: function () {\n      var _ref2 = (0, _asyncToGenerator.default)(function* () {\n        try {\n          var saved = yield AsyncStorage.default.getItem('guardian_phone');\n          if (saved) {\n            set({\n              guardianPhone: saved\n            });\n          }\n        } catch (e) {\n          console.error('Failed to load guardian phone:', e);\n        }\n      });\n      return function loadSavedGuardian() {\n        return _ref2.apply(this, arguments);\n      };\n    }()\n  }));\n});","lineCount":113,"map":[[12,2,46,0,"Object"],[12,8,46,0],[12,9,46,0,"defineProperty"],[12,23,46,0],[12,24,46,0,"exports"],[12,31,46,0],[13,4,46,0,"enumerable"],[13,14,46,0],[14,4,46,0,"get"],[14,7,46,0],[14,18,46,0,"get"],[14,19,46,0],[15,6,46,0],[15,13,46,0,"useTripStore"],[15,25,46,0],[16,4,46,0],[17,2,46,0],[18,2,121,4],[18,6,121,4,"_babelRuntimeHelpersAsyncToGenerator"],[18,42,121,4],[18,45,121,4,"require"],[18,52,121,4],[18,53,121,4,"_dependencyMap"],[18,67,121,4],[19,2,121,4],[19,6,121,4,"_asyncToGenerator"],[19,23,121,4],[19,26,121,4,"_interopDefault"],[19,41,121,4],[19,42,121,4,"_babelRuntimeHelpersAsyncToGenerator"],[19,78,121,4],[20,2,1,0],[20,6,1,0,"_zustand"],[20,14,1,0],[20,17,1,0,"require"],[20,24,1,0],[20,25,1,0,"_dependencyMap"],[20,39,1,0],[21,2,2,0],[21,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[21,42,2,0],[21,45,2,0,"require"],[21,52,2,0],[21,53,2,0,"_dependencyMap"],[21,67,2,0],[22,2,2,0],[22,6,2,0,"AsyncStorage"],[22,18,2,0],[22,21,2,0,"_interopDefault"],[22,36,2,0],[22,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[22,73,2,0],[23,2,46,7],[23,6,46,13,"useTripStore"],[23,18,46,25],[23,21,46,28],[23,25,46,28,"create"],[23,33,46,34],[23,34,46,34,"create"],[23,40,46,34],[23,42,46,46],[23,43,46,47,"set"],[23,46,46,50],[23,48,46,52,"get"],[23,51,46,55],[23,57,46,61],[24,4,47,2,"currentTrip"],[24,15,47,13],[24,17,47,15],[24,21,47,19],[25,4,48,2,"isTracking"],[25,14,48,12],[25,16,48,14],[25,21,48,19],[26,4,49,2,"locations"],[26,13,49,11],[26,15,49,13],[26,17,49,15],[27,4,50,2,"motionStatus"],[27,16,50,14],[27,18,50,16],[27,26,50,24],[28,4,51,2,"lastRiskRule"],[28,16,51,14],[28,18,51,16],[28,22,51,20],[29,4,52,2,"guardianPhone"],[29,17,52,15],[29,19,52,17],[29,21,52,19],[30,4,53,2,"trackingSource"],[30,18,53,16],[30,20,53,18],[30,25,53,23],[31,4,54,2,"accuracy"],[31,12,54,10],[31,14,54,12],[31,15,54,13],[32,4,56,2,"setGuardianPhone"],[32,20,56,18],[33,6,56,18],[33,10,56,18,"_ref"],[33,14,56,18],[33,21,56,18,"_asyncToGenerator"],[33,38,56,18],[33,39,56,18,"default"],[33,46,56,18],[33,48,56,20],[33,59,56,27,"phone"],[33,64,56,40],[33,66,56,45],[34,8,57,4,"set"],[34,11,57,7],[34,12,57,8],[35,10,57,10,"guardianPhone"],[35,23,57,23],[35,25,57,25,"phone"],[36,8,57,31],[36,9,57,32],[36,10,57,33],[37,8,58,4],[38,8,59,4],[38,12,59,8],[39,10,60,6],[39,16,60,12,"AsyncStorage"],[39,28,60,24],[39,29,60,24,"default"],[39,36,60,24],[39,37,60,25,"setItem"],[39,44,60,32],[39,45,60,33],[39,61,60,49],[39,63,60,51,"phone"],[39,68,60,56],[39,69,60,57],[40,8,61,4],[40,9,61,5],[40,10,61,6],[40,17,61,13,"e"],[40,18,61,14],[40,20,61,16],[41,10,62,6,"console"],[41,17,62,13],[41,18,62,14,"error"],[41,23,62,19],[41,24,62,20],[41,56,62,52],[41,58,62,54,"e"],[41,59,62,55],[41,60,62,56],[42,8,63,4],[43,6,64,2],[43,7,64,3],[44,6,64,3],[44,22,56,2,"setGuardianPhone"],[44,38,56,18,"setGuardianPhone"],[44,39,56,18,"_x"],[44,41,56,18],[45,8,56,18],[45,15,56,18,"_ref"],[45,19,56,18],[45,20,56,18,"apply"],[45,25,56,18],[45,32,56,18,"arguments"],[45,41,56,18],[46,6,56,18],[47,4,56,18],[47,7,64,3],[48,4,66,2,"startTrip"],[48,13,66,11],[48,15,66,14,"trip"],[48,19,66,24],[48,23,66,29],[49,6,67,4,"set"],[49,9,67,7],[49,10,67,8],[50,8,68,6,"currentTrip"],[50,19,68,17],[50,21,68,19,"trip"],[50,25,68,23],[51,8,69,6,"isTracking"],[51,18,69,16],[51,20,69,18],[51,24,69,22],[52,8,70,6,"locations"],[52,17,70,15],[52,19,70,17],[52,21,70,19],[53,8,71,6,"motionStatus"],[53,20,71,18],[53,22,71,20],[53,30,71,28],[54,8,72,6,"lastRiskRule"],[54,20,72,18],[54,22,72,20],[55,6,73,4],[55,7,73,5],[55,8,73,6],[56,4,74,2],[56,5,74,3],[57,4,76,2,"endTrip"],[57,11,76,9],[57,13,76,11,"endTrip"],[57,14,76,11],[57,19,76,17],[58,6,77,4,"set"],[58,9,77,7],[58,10,77,8],[59,8,78,6,"currentTrip"],[59,19,78,17],[59,21,78,19],[59,25,78,23],[60,8,79,6,"isTracking"],[60,18,79,16],[60,20,79,18],[60,25,79,23],[61,8,80,6,"motionStatus"],[61,20,80,18],[61,22,80,20],[61,30,80,28],[62,8,81,6,"lastRiskRule"],[62,20,81,18],[62,22,81,20],[63,6,82,4],[63,7,82,5],[63,8,82,6],[64,4,83,2],[64,5,83,3],[65,4,85,2,"addLocation"],[65,15,85,13],[65,17,85,16,"location"],[65,25,85,39],[65,29,85,44],[66,6,86,4,"set"],[66,9,86,7],[66,10,86,9,"state"],[66,15,86,14],[66,20,86,20],[67,8,87,6,"locations"],[67,17,87,15],[67,19,87,17],[67,20,87,18],[67,23,87,21,"state"],[67,28,87,26],[67,29,87,27,"locations"],[67,38,87,36],[67,40,87,38,"location"],[67,48,87,46],[67,49,87,47],[67,50,87,48,"slice"],[67,55,87,53],[67,56,87,54],[67,57,87,55],[67,60,87,58],[67,61,87,59],[67,62,87,61],[68,6,88,4],[68,7,88,5],[68,8,88,6],[68,9,88,7],[69,4,89,2],[69,5,89,3],[70,4,91,2,"setMotionStatus"],[70,19,91,17],[70,21,91,20,"status"],[70,27,91,55],[70,31,91,60],[71,6,92,4,"set"],[71,9,92,7],[71,10,92,8],[72,8,92,10,"motionStatus"],[72,20,92,22],[72,22,92,24,"status"],[73,6,92,31],[73,7,92,32],[73,8,92,33],[74,4,93,2],[74,5,93,3],[75,4,95,2,"setLastRiskRule"],[75,19,95,17],[75,21,95,20,"rule"],[75,25,95,39],[75,29,95,44],[76,6,96,4,"set"],[76,9,96,7],[76,10,96,8],[77,8,96,10,"lastRiskRule"],[77,20,96,22],[77,22,96,24,"rule"],[78,6,96,29],[78,7,96,30],[78,8,96,31],[79,4,97,2],[79,5,97,3],[80,4,99,2,"setTrackingSource"],[80,21,99,19],[80,23,99,22,"source"],[80,29,99,60],[80,33,99,65],[81,6,100,4,"set"],[81,9,100,7],[81,10,100,8],[82,8,100,10,"trackingSource"],[82,22,100,24],[82,24,100,26,"source"],[83,6,100,33],[83,7,100,34],[83,8,100,35],[84,4,101,2],[84,5,101,3],[85,4,103,2,"setAccuracy"],[85,15,103,13],[85,17,103,16,"accuracy"],[85,25,103,32],[85,29,103,37],[86,6,104,4,"set"],[86,9,104,7],[86,10,104,8],[87,8,104,10,"accuracy"],[88,6,104,19],[88,7,104,20],[88,8,104,21],[89,4,105,2],[89,5,105,3],[90,4,107,2,"clearLocations"],[90,18,107,16],[90,20,107,18,"clearLocations"],[90,21,107,18],[90,26,107,24],[91,6,108,4,"set"],[91,9,108,7],[91,10,108,8],[92,8,108,10,"locations"],[92,17,108,19],[92,19,108,21],[93,6,108,24],[93,7,108,25],[93,8,108,26],[94,4,109,2],[94,5,109,3],[95,4,111,2,"loadSavedGuardian"],[95,21,111,19],[96,6,111,19],[96,10,111,19,"_ref2"],[96,15,111,19],[96,22,111,19,"_asyncToGenerator"],[96,39,111,19],[96,40,111,19,"default"],[96,47,111,19],[96,49,111,21],[96,62,111,33],[97,8,112,4],[97,12,112,8],[98,10,113,6],[98,14,113,12,"saved"],[98,19,113,17],[98,28,113,26,"AsyncStorage"],[98,40,113,38],[98,41,113,38,"default"],[98,48,113,38],[98,49,113,39,"getItem"],[98,56,113,46],[98,57,113,47],[98,73,113,63],[98,74,113,64],[99,10,114,6],[99,14,114,10,"saved"],[99,19,114,15],[99,21,114,17],[100,12,115,8,"set"],[100,15,115,11],[100,16,115,12],[101,14,115,14,"guardianPhone"],[101,27,115,27],[101,29,115,29,"saved"],[102,12,115,35],[102,13,115,36],[102,14,115,37],[103,10,116,6],[104,8,117,4],[104,9,117,5],[104,10,117,6],[104,17,117,13,"e"],[104,18,117,14],[104,20,117,16],[105,10,118,6,"console"],[105,17,118,13],[105,18,118,14,"error"],[105,23,118,19],[105,24,118,20],[105,56,118,52],[105,58,118,54,"e"],[105,59,118,55],[105,60,118,56],[106,8,119,4],[107,6,120,2],[107,7,120,3],[108,6,120,3],[108,22,111,2,"loadSavedGuardian"],[108,39,111,19,"loadSavedGuardian"],[108,40,111,19],[109,8,111,19],[109,15,111,19,"_ref2"],[109,20,111,19],[109,21,111,19,"apply"],[109,26,111,19],[109,33,111,19,"arguments"],[109,42,111,19],[110,6,111,19],[111,4,111,19],[112,2,121,0],[112,3,121,1],[112,4,121,2],[112,5,121,3],[113,0,121,4],[113,3]],"functionMap":{"names":["<global>","create$argument_0","setGuardianPhone","startTrip","endTrip","addLocation","set$argument_0","setMotionStatus","setLastRiskRule","setTrackingSource","setAccuracy","clearLocations","loadSavedGuardian"],"mappings":"AAA;8CC6C;oBCU;GDQ;aEE;GFQ;WGE;GHO;eIE;QCC;MDE;GJC;mBME;GNE;mBOE;GPE;qBQE;GRE;eSE;GTE;kBUE;GVE;qBWE;GXS;EDC"},"hasCjsExports":false},"type":"js/module"}]}
{"dependencies":[{"name":"zustand","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":33,"index":33}}],"key":"POPvx7yS3Y3wz+S/9OAefiXNs0Q=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":34},"end":{"line":2,"column":69,"index":103}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"useTripStore\", {\n    enumerable: true,\n    get: function () {\n      return useTripStore;\n    }\n  });\n  var _zustand = require(_dependencyMap[0], \"zustand\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  const useTripStore = (0, _zustand.create)((set, get) => ({\n    currentTrip: null,\n    isTracking: false,\n    locations: [],\n    motionStatus: 'normal',\n    lastRiskRule: null,\n    guardianPhone: '',\n    guardianPhone2: '',\n    guardianPhone3: '',\n    trackingSource: 'gps',\n    accuracy: 0,\n    setGuardianPhone: async (phone, index = 1) => {\n      // Persist to storage based on index\n      try {\n        if (index === 1) {\n          set({\n            guardianPhone: phone\n          });\n          await AsyncStorage.default.setItem('guardian_phone', phone);\n        } else if (index === 2) {\n          set({\n            guardianPhone2: phone\n          });\n          await AsyncStorage.default.setItem('guardian_phone_2', phone);\n        } else if (index === 3) {\n          set({\n            guardianPhone3: phone\n          });\n          await AsyncStorage.default.setItem('guardian_phone_3', phone);\n        }\n      } catch (e) {\n        console.error('Failed to save guardian phone:', e);\n      }\n    },\n    startTrip: trip => {\n      set({\n        currentTrip: trip,\n        isTracking: true,\n        locations: [],\n        motionStatus: 'normal',\n        lastRiskRule: null\n      });\n    },\n    endTrip: () => {\n      set({\n        currentTrip: null,\n        isTracking: false,\n        motionStatus: 'normal',\n        lastRiskRule: null\n      });\n    },\n    addLocation: location => {\n      set(state => ({\n        locations: [...state.locations, location].slice(-100) // Keep last 100 points\n      }));\n    },\n    setMotionStatus: status => {\n      set({\n        motionStatus: status\n      });\n    },\n    setLastRiskRule: rule => {\n      set({\n        lastRiskRule: rule\n      });\n    },\n    setTrackingSource: source => {\n      set({\n        trackingSource: source\n      });\n    },\n    setAccuracy: accuracy => {\n      set({\n        accuracy\n      });\n    },\n    clearLocations: () => {\n      set({\n        locations: []\n      });\n    },\n    loadSavedGuardian: async () => {\n      try {\n        const saved1 = await AsyncStorage.default.getItem('guardian_phone');\n        const saved2 = await AsyncStorage.default.getItem('guardian_phone_2');\n        const saved3 = await AsyncStorage.default.getItem('guardian_phone_3');\n        set({\n          guardianPhone: saved1 || '',\n          guardianPhone2: saved2 || '',\n          guardianPhone3: saved3 || ''\n        });\n      } catch (e) {\n        console.error('Failed to load guardian phone:', e);\n      }\n    },\n    getAllGuardianPhones: () => {\n      const state = get();\n      return [state.guardianPhone, state.guardianPhone2, state.guardianPhone3].filter(p => p && p.length > 0);\n    }\n  }));\n});","lineCount":121,"map":[[12,2,51,0,"Object"],[12,8,51,0],[12,9,51,0,"defineProperty"],[12,23,51,0],[12,24,51,0,"exports"],[12,31,51,0],[13,4,51,0,"enumerable"],[13,14,51,0],[14,4,51,0,"get"],[14,7,51,0],[14,18,51,0,"get"],[14,19,51,0],[15,6,51,0],[15,13,51,0,"useTripStore"],[15,25,51,0],[16,4,51,0],[17,2,51,0],[18,2,1,0],[18,6,1,0,"_zustand"],[18,14,1,0],[18,17,1,0,"require"],[18,24,1,0],[18,25,1,0,"_dependencyMap"],[18,39,1,0],[19,2,2,0],[19,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[19,42,2,0],[19,45,2,0,"require"],[19,52,2,0],[19,53,2,0,"_dependencyMap"],[19,67,2,0],[20,2,2,0],[20,6,2,0,"AsyncStorage"],[20,18,2,0],[20,21,2,0,"_interopDefault"],[20,36,2,0],[20,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[20,73,2,0],[21,2,51,7],[21,8,51,13,"useTripStore"],[21,20,51,25],[21,23,51,28],[21,27,51,28,"create"],[21,35,51,34],[21,36,51,34,"create"],[21,42,51,34],[21,44,51,46],[21,45,51,47,"set"],[21,48,51,50],[21,50,51,52,"get"],[21,53,51,55],[21,59,51,61],[22,4,52,2,"currentTrip"],[22,15,52,13],[22,17,52,15],[22,21,52,19],[23,4,53,2,"isTracking"],[23,14,53,12],[23,16,53,14],[23,21,53,19],[24,4,54,2,"locations"],[24,13,54,11],[24,15,54,13],[24,17,54,15],[25,4,55,2,"motionStatus"],[25,16,55,14],[25,18,55,16],[25,26,55,24],[26,4,56,2,"lastRiskRule"],[26,16,56,14],[26,18,56,16],[26,22,56,20],[27,4,57,2,"guardianPhone"],[27,17,57,15],[27,19,57,17],[27,21,57,19],[28,4,58,2,"guardianPhone2"],[28,18,58,16],[28,20,58,18],[28,22,58,20],[29,4,59,2,"guardianPhone3"],[29,18,59,16],[29,20,59,18],[29,22,59,20],[30,4,60,2,"trackingSource"],[30,18,60,16],[30,20,60,18],[30,25,60,23],[31,4,61,2,"accuracy"],[31,12,61,10],[31,14,61,12],[31,15,61,13],[32,4,63,2,"setGuardianPhone"],[32,20,63,18],[32,22,63,20],[32,28,63,20,"setGuardianPhone"],[32,29,63,27,"phone"],[32,34,63,40],[32,36,63,42,"index"],[32,41,63,55],[32,44,63,58],[32,45,63,59],[32,50,63,64],[33,6,64,4],[34,6,65,4],[34,10,65,8],[35,8,66,6],[35,12,66,10,"index"],[35,17,66,15],[35,22,66,20],[35,23,66,21],[35,25,66,23],[36,10,67,8,"set"],[36,13,67,11],[36,14,67,12],[37,12,67,14,"guardianPhone"],[37,25,67,27],[37,27,67,29,"phone"],[38,10,67,35],[38,11,67,36],[38,12,67,37],[39,10,68,8],[39,16,68,14,"AsyncStorage"],[39,28,68,26],[39,29,68,26,"default"],[39,36,68,26],[39,37,68,27,"setItem"],[39,44,68,34],[39,45,68,35],[39,61,68,51],[39,63,68,53,"phone"],[39,68,68,58],[39,69,68,59],[40,8,69,6],[40,9,69,7],[40,15,69,13],[40,19,69,17,"index"],[40,24,69,22],[40,29,69,27],[40,30,69,28],[40,32,69,30],[41,10,70,8,"set"],[41,13,70,11],[41,14,70,12],[42,12,70,14,"guardianPhone2"],[42,26,70,28],[42,28,70,30,"phone"],[43,10,70,36],[43,11,70,37],[43,12,70,38],[44,10,71,8],[44,16,71,14,"AsyncStorage"],[44,28,71,26],[44,29,71,26,"default"],[44,36,71,26],[44,37,71,27,"setItem"],[44,44,71,34],[44,45,71,35],[44,63,71,53],[44,65,71,55,"phone"],[44,70,71,60],[44,71,71,61],[45,8,72,6],[45,9,72,7],[45,15,72,13],[45,19,72,17,"index"],[45,24,72,22],[45,29,72,27],[45,30,72,28],[45,32,72,30],[46,10,73,8,"set"],[46,13,73,11],[46,14,73,12],[47,12,73,14,"guardianPhone3"],[47,26,73,28],[47,28,73,30,"phone"],[48,10,73,36],[48,11,73,37],[48,12,73,38],[49,10,74,8],[49,16,74,14,"AsyncStorage"],[49,28,74,26],[49,29,74,26,"default"],[49,36,74,26],[49,37,74,27,"setItem"],[49,44,74,34],[49,45,74,35],[49,63,74,53],[49,65,74,55,"phone"],[49,70,74,60],[49,71,74,61],[50,8,75,6],[51,6,76,4],[51,7,76,5],[51,8,76,6],[51,15,76,13,"e"],[51,16,76,14],[51,18,76,16],[52,8,77,6,"console"],[52,15,77,13],[52,16,77,14,"error"],[52,21,77,19],[52,22,77,20],[52,54,77,52],[52,56,77,54,"e"],[52,57,77,55],[52,58,77,56],[53,6,78,4],[54,4,79,2],[54,5,79,3],[55,4,81,2,"startTrip"],[55,13,81,11],[55,15,81,14,"trip"],[55,19,81,24],[55,23,81,29],[56,6,82,4,"set"],[56,9,82,7],[56,10,82,8],[57,8,83,6,"currentTrip"],[57,19,83,17],[57,21,83,19,"trip"],[57,25,83,23],[58,8,84,6,"isTracking"],[58,18,84,16],[58,20,84,18],[58,24,84,22],[59,8,85,6,"locations"],[59,17,85,15],[59,19,85,17],[59,21,85,19],[60,8,86,6,"motionStatus"],[60,20,86,18],[60,22,86,20],[60,30,86,28],[61,8,87,6,"lastRiskRule"],[61,20,87,18],[61,22,87,20],[62,6,88,4],[62,7,88,5],[62,8,88,6],[63,4,89,2],[63,5,89,3],[64,4,91,2,"endTrip"],[64,11,91,9],[64,13,91,11,"endTrip"],[64,14,91,11],[64,19,91,17],[65,6,92,4,"set"],[65,9,92,7],[65,10,92,8],[66,8,93,6,"currentTrip"],[66,19,93,17],[66,21,93,19],[66,25,93,23],[67,8,94,6,"isTracking"],[67,18,94,16],[67,20,94,18],[67,25,94,23],[68,8,95,6,"motionStatus"],[68,20,95,18],[68,22,95,20],[68,30,95,28],[69,8,96,6,"lastRiskRule"],[69,20,96,18],[69,22,96,20],[70,6,97,4],[70,7,97,5],[70,8,97,6],[71,4,98,2],[71,5,98,3],[72,4,100,2,"addLocation"],[72,15,100,13],[72,17,100,16,"location"],[72,25,100,39],[72,29,100,44],[73,6,101,4,"set"],[73,9,101,7],[73,10,101,9,"state"],[73,15,101,14],[73,20,101,20],[74,8,102,6,"locations"],[74,17,102,15],[74,19,102,17],[74,20,102,18],[74,23,102,21,"state"],[74,28,102,26],[74,29,102,27,"locations"],[74,38,102,36],[74,40,102,38,"location"],[74,48,102,46],[74,49,102,47],[74,50,102,48,"slice"],[74,55,102,53],[74,56,102,54],[74,57,102,55],[74,60,102,58],[74,61,102,59],[74,62,102,61],[75,6,103,4],[75,7,103,5],[75,8,103,6],[75,9,103,7],[76,4,104,2],[76,5,104,3],[77,4,106,2,"setMotionStatus"],[77,19,106,17],[77,21,106,20,"status"],[77,27,106,55],[77,31,106,60],[78,6,107,4,"set"],[78,9,107,7],[78,10,107,8],[79,8,107,10,"motionStatus"],[79,20,107,22],[79,22,107,24,"status"],[80,6,107,31],[80,7,107,32],[80,8,107,33],[81,4,108,2],[81,5,108,3],[82,4,110,2,"setLastRiskRule"],[82,19,110,17],[82,21,110,20,"rule"],[82,25,110,39],[82,29,110,44],[83,6,111,4,"set"],[83,9,111,7],[83,10,111,8],[84,8,111,10,"lastRiskRule"],[84,20,111,22],[84,22,111,24,"rule"],[85,6,111,29],[85,7,111,30],[85,8,111,31],[86,4,112,2],[86,5,112,3],[87,4,114,2,"setTrackingSource"],[87,21,114,19],[87,23,114,22,"source"],[87,29,114,60],[87,33,114,65],[88,6,115,4,"set"],[88,9,115,7],[88,10,115,8],[89,8,115,10,"trackingSource"],[89,22,115,24],[89,24,115,26,"source"],[90,6,115,33],[90,7,115,34],[90,8,115,35],[91,4,116,2],[91,5,116,3],[92,4,118,2,"setAccuracy"],[92,15,118,13],[92,17,118,16,"accuracy"],[92,25,118,32],[92,29,118,37],[93,6,119,4,"set"],[93,9,119,7],[93,10,119,8],[94,8,119,10,"accuracy"],[95,6,119,19],[95,7,119,20],[95,8,119,21],[96,4,120,2],[96,5,120,3],[97,4,122,2,"clearLocations"],[97,18,122,16],[97,20,122,18,"clearLocations"],[97,21,122,18],[97,26,122,24],[98,6,123,4,"set"],[98,9,123,7],[98,10,123,8],[99,8,123,10,"locations"],[99,17,123,19],[99,19,123,21],[100,6,123,24],[100,7,123,25],[100,8,123,26],[101,4,124,2],[101,5,124,3],[102,4,126,2,"loadSavedGuardian"],[102,21,126,19],[102,23,126,21],[102,29,126,21,"loadSavedGuardian"],[102,30,126,21],[102,35,126,33],[103,6,127,4],[103,10,127,8],[104,8,128,6],[104,14,128,12,"saved1"],[104,20,128,18],[104,23,128,21],[104,29,128,27,"AsyncStorage"],[104,41,128,39],[104,42,128,39,"default"],[104,49,128,39],[104,50,128,40,"getItem"],[104,57,128,47],[104,58,128,48],[104,74,128,64],[104,75,128,65],[105,8,129,6],[105,14,129,12,"saved2"],[105,20,129,18],[105,23,129,21],[105,29,129,27,"AsyncStorage"],[105,41,129,39],[105,42,129,39,"default"],[105,49,129,39],[105,50,129,40,"getItem"],[105,57,129,47],[105,58,129,48],[105,76,129,66],[105,77,129,67],[106,8,130,6],[106,14,130,12,"saved3"],[106,20,130,18],[106,23,130,21],[106,29,130,27,"AsyncStorage"],[106,41,130,39],[106,42,130,39,"default"],[106,49,130,39],[106,50,130,40,"getItem"],[106,57,130,47],[106,58,130,48],[106,76,130,66],[106,77,130,67],[107,8,132,6,"set"],[107,11,132,9],[107,12,132,10],[108,10,133,8,"guardianPhone"],[108,23,133,21],[108,25,133,23,"saved1"],[108,31,133,29],[108,35,133,33],[108,37,133,35],[109,10,134,8,"guardianPhone2"],[109,24,134,22],[109,26,134,24,"saved2"],[109,32,134,30],[109,36,134,34],[109,38,134,36],[110,10,135,8,"guardianPhone3"],[110,24,135,22],[110,26,135,24,"saved3"],[110,32,135,30],[110,36,135,34],[111,8,136,6],[111,9,136,7],[111,10,136,8],[112,6,137,4],[112,7,137,5],[112,8,137,6],[112,15,137,13,"e"],[112,16,137,14],[112,18,137,16],[113,8,138,6,"console"],[113,15,138,13],[113,16,138,14,"error"],[113,21,138,19],[113,22,138,20],[113,54,138,52],[113,56,138,54,"e"],[113,57,138,55],[113,58,138,56],[114,6,139,4],[115,4,140,2],[115,5,140,3],[116,4,142,2,"getAllGuardianPhones"],[116,24,142,22],[116,26,142,24,"getAllGuardianPhones"],[116,27,142,24],[116,32,142,30],[117,6,143,4],[117,12,143,10,"state"],[117,17,143,15],[117,20,143,18,"get"],[117,23,143,21],[117,24,143,22],[117,25,143,23],[118,6,144,4],[118,13,144,11],[118,14,144,12,"state"],[118,19,144,17],[118,20,144,18,"guardianPhone"],[118,33,144,31],[118,35,144,33,"state"],[118,40,144,38],[118,41,144,39,"guardianPhone2"],[118,55,144,53],[118,57,144,55,"state"],[118,62,144,60],[118,63,144,61,"guardianPhone3"],[118,77,144,75],[118,78,144,76],[118,79,144,77,"filter"],[118,85,144,83],[118,86,144,84,"p"],[118,87,144,85],[118,91,144,89,"p"],[118,92,144,90],[118,96,144,94,"p"],[118,97,144,95],[118,98,144,96,"length"],[118,104,144,102],[118,107,144,105],[118,108,144,106],[118,109,144,107],[119,4,145,2],[120,2,146,0],[120,3,146,1],[120,4,146,2],[120,5,146,3],[121,0,146,4],[121,3]],"functionMap":{"names":["<global>","create$argument_0","setGuardianPhone","startTrip","endTrip","addLocation","set$argument_0","setMotionStatus","setLastRiskRule","setTrackingSource","setAccuracy","clearLocations","loadSavedGuardian","getAllGuardianPhones","filter$argument_0"],"mappings":"AAA;8CCkD;oBCY;GDgB;aEE;GFQ;WGE;GHO;eIE;QCC;MDE;GJC;mBME;GNE;mBOE;GPE;qBQE;GRE;eSE;GTE;kBUE;GVE;qBWE;GXc;wBYE;oFCE,sBD;GZC;EDC"},"hasCjsExports":false},"type":"js/module"}]}
{"dependencies":[{"name":"zustand","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":33,"index":33}}],"key":"POPvx7yS3Y3wz+S/9OAefiXNs0Q=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":34},"end":{"line":2,"column":69,"index":103}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"useTripStore\", {\n    enumerable: true,\n    get: function () {\n      return useTripStore;\n    }\n  });\n  var _zustand = require(_dependencyMap[0], \"zustand\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  const useTripStore = (0, _zustand.create)((set, get) => ({\n    currentTrip: null,\n    isTracking: false,\n    locations: [],\n    motionStatus: 'normal',\n    lastRiskRule: null,\n    guardianPhone: '',\n    trackingSource: 'gps',\n    accuracy: 0,\n    setGuardianPhone: async phone => {\n      set({\n        guardianPhone: phone\n      });\n      // Persist to storage\n      try {\n        await AsyncStorage.default.setItem('guardian_phone', phone);\n      } catch (e) {\n        console.error('Failed to save guardian phone:', e);\n      }\n    },\n    startTrip: trip => {\n      set({\n        currentTrip: trip,\n        isTracking: true,\n        locations: [],\n        motionStatus: 'normal',\n        lastRiskRule: null\n      });\n    },\n    endTrip: () => {\n      set({\n        currentTrip: null,\n        isTracking: false,\n        motionStatus: 'normal',\n        lastRiskRule: null\n      });\n    },\n    addLocation: location => {\n      set(state => ({\n        locations: [...state.locations, location].slice(-100) // Keep last 100 points\n      }));\n    },\n    setMotionStatus: status => {\n      set({\n        motionStatus: status\n      });\n    },\n    setLastRiskRule: rule => {\n      set({\n        lastRiskRule: rule\n      });\n    },\n    setTrackingSource: source => {\n      set({\n        trackingSource: source\n      });\n    },\n    setAccuracy: accuracy => {\n      set({\n        accuracy\n      });\n    },\n    clearLocations: () => {\n      set({\n        locations: []\n      });\n    },\n    loadSavedGuardian: async () => {\n      try {\n        const saved = await AsyncStorage.default.getItem('guardian_phone');\n        if (saved) {\n          set({\n            guardianPhone: saved\n          });\n        }\n      } catch (e) {\n        console.error('Failed to load guardian phone:', e);\n      }\n    }\n  }));\n});","lineCount":101,"map":[[12,2,46,0,"Object"],[12,8,46,0],[12,9,46,0,"defineProperty"],[12,23,46,0],[12,24,46,0,"exports"],[12,31,46,0],[13,4,46,0,"enumerable"],[13,14,46,0],[14,4,46,0,"get"],[14,7,46,0],[14,18,46,0,"get"],[14,19,46,0],[15,6,46,0],[15,13,46,0,"useTripStore"],[15,25,46,0],[16,4,46,0],[17,2,46,0],[18,2,1,0],[18,6,1,0,"_zustand"],[18,14,1,0],[18,17,1,0,"require"],[18,24,1,0],[18,25,1,0,"_dependencyMap"],[18,39,1,0],[19,2,2,0],[19,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[19,42,2,0],[19,45,2,0,"require"],[19,52,2,0],[19,53,2,0,"_dependencyMap"],[19,67,2,0],[20,2,2,0],[20,6,2,0,"AsyncStorage"],[20,18,2,0],[20,21,2,0,"_interopDefault"],[20,36,2,0],[20,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[20,73,2,0],[21,2,46,7],[21,8,46,13,"useTripStore"],[21,20,46,25],[21,23,46,28],[21,27,46,28,"create"],[21,35,46,34],[21,36,46,34,"create"],[21,42,46,34],[21,44,46,46],[21,45,46,47,"set"],[21,48,46,50],[21,50,46,52,"get"],[21,53,46,55],[21,59,46,61],[22,4,47,2,"currentTrip"],[22,15,47,13],[22,17,47,15],[22,21,47,19],[23,4,48,2,"isTracking"],[23,14,48,12],[23,16,48,14],[23,21,48,19],[24,4,49,2,"locations"],[24,13,49,11],[24,15,49,13],[24,17,49,15],[25,4,50,2,"motionStatus"],[25,16,50,14],[25,18,50,16],[25,26,50,24],[26,4,51,2,"lastRiskRule"],[26,16,51,14],[26,18,51,16],[26,22,51,20],[27,4,52,2,"guardianPhone"],[27,17,52,15],[27,19,52,17],[27,21,52,19],[28,4,53,2,"trackingSource"],[28,18,53,16],[28,20,53,18],[28,25,53,23],[29,4,54,2,"accuracy"],[29,12,54,10],[29,14,54,12],[29,15,54,13],[30,4,56,2,"setGuardianPhone"],[30,20,56,18],[30,22,56,20],[30,28,56,27,"phone"],[30,33,56,40],[30,37,56,45],[31,6,57,4,"set"],[31,9,57,7],[31,10,57,8],[32,8,57,10,"guardianPhone"],[32,21,57,23],[32,23,57,25,"phone"],[33,6,57,31],[33,7,57,32],[33,8,57,33],[34,6,58,4],[35,6,59,4],[35,10,59,8],[36,8,60,6],[36,14,60,12,"AsyncStorage"],[36,26,60,24],[36,27,60,24,"default"],[36,34,60,24],[36,35,60,25,"setItem"],[36,42,60,32],[36,43,60,33],[36,59,60,49],[36,61,60,51,"phone"],[36,66,60,56],[36,67,60,57],[37,6,61,4],[37,7,61,5],[37,8,61,6],[37,15,61,13,"e"],[37,16,61,14],[37,18,61,16],[38,8,62,6,"console"],[38,15,62,13],[38,16,62,14,"error"],[38,21,62,19],[38,22,62,20],[38,54,62,52],[38,56,62,54,"e"],[38,57,62,55],[38,58,62,56],[39,6,63,4],[40,4,64,2],[40,5,64,3],[41,4,66,2,"startTrip"],[41,13,66,11],[41,15,66,14,"trip"],[41,19,66,24],[41,23,66,29],[42,6,67,4,"set"],[42,9,67,7],[42,10,67,8],[43,8,68,6,"currentTrip"],[43,19,68,17],[43,21,68,19,"trip"],[43,25,68,23],[44,8,69,6,"isTracking"],[44,18,69,16],[44,20,69,18],[44,24,69,22],[45,8,70,6,"locations"],[45,17,70,15],[45,19,70,17],[45,21,70,19],[46,8,71,6,"motionStatus"],[46,20,71,18],[46,22,71,20],[46,30,71,28],[47,8,72,6,"lastRiskRule"],[47,20,72,18],[47,22,72,20],[48,6,73,4],[48,7,73,5],[48,8,73,6],[49,4,74,2],[49,5,74,3],[50,4,76,2,"endTrip"],[50,11,76,9],[50,13,76,11,"endTrip"],[50,14,76,11],[50,19,76,17],[51,6,77,4,"set"],[51,9,77,7],[51,10,77,8],[52,8,78,6,"currentTrip"],[52,19,78,17],[52,21,78,19],[52,25,78,23],[53,8,79,6,"isTracking"],[53,18,79,16],[53,20,79,18],[53,25,79,23],[54,8,80,6,"motionStatus"],[54,20,80,18],[54,22,80,20],[54,30,80,28],[55,8,81,6,"lastRiskRule"],[55,20,81,18],[55,22,81,20],[56,6,82,4],[56,7,82,5],[56,8,82,6],[57,4,83,2],[57,5,83,3],[58,4,85,2,"addLocation"],[58,15,85,13],[58,17,85,16,"location"],[58,25,85,39],[58,29,85,44],[59,6,86,4,"set"],[59,9,86,7],[59,10,86,9,"state"],[59,15,86,14],[59,20,86,20],[60,8,87,6,"locations"],[60,17,87,15],[60,19,87,17],[60,20,87,18],[60,23,87,21,"state"],[60,28,87,26],[60,29,87,27,"locations"],[60,38,87,36],[60,40,87,38,"location"],[60,48,87,46],[60,49,87,47],[60,50,87,48,"slice"],[60,55,87,53],[60,56,87,54],[60,57,87,55],[60,60,87,58],[60,61,87,59],[60,62,87,61],[61,6,88,4],[61,7,88,5],[61,8,88,6],[61,9,88,7],[62,4,89,2],[62,5,89,3],[63,4,91,2,"setMotionStatus"],[63,19,91,17],[63,21,91,20,"status"],[63,27,91,55],[63,31,91,60],[64,6,92,4,"set"],[64,9,92,7],[64,10,92,8],[65,8,92,10,"motionStatus"],[65,20,92,22],[65,22,92,24,"status"],[66,6,92,31],[66,7,92,32],[66,8,92,33],[67,4,93,2],[67,5,93,3],[68,4,95,2,"setLastRiskRule"],[68,19,95,17],[68,21,95,20,"rule"],[68,25,95,39],[68,29,95,44],[69,6,96,4,"set"],[69,9,96,7],[69,10,96,8],[70,8,96,10,"lastRiskRule"],[70,20,96,22],[70,22,96,24,"rule"],[71,6,96,29],[71,7,96,30],[71,8,96,31],[72,4,97,2],[72,5,97,3],[73,4,99,2,"setTrackingSource"],[73,21,99,19],[73,23,99,22,"source"],[73,29,99,60],[73,33,99,65],[74,6,100,4,"set"],[74,9,100,7],[74,10,100,8],[75,8,100,10,"trackingSource"],[75,22,100,24],[75,24,100,26,"source"],[76,6,100,33],[76,7,100,34],[76,8,100,35],[77,4,101,2],[77,5,101,3],[78,4,103,2,"setAccuracy"],[78,15,103,13],[78,17,103,16,"accuracy"],[78,25,103,32],[78,29,103,37],[79,6,104,4,"set"],[79,9,104,7],[79,10,104,8],[80,8,104,10,"accuracy"],[81,6,104,19],[81,7,104,20],[81,8,104,21],[82,4,105,2],[82,5,105,3],[83,4,107,2,"clearLocations"],[83,18,107,16],[83,20,107,18,"clearLocations"],[83,21,107,18],[83,26,107,24],[84,6,108,4,"set"],[84,9,108,7],[84,10,108,8],[85,8,108,10,"locations"],[85,17,108,19],[85,19,108,21],[86,6,108,24],[86,7,108,25],[86,8,108,26],[87,4,109,2],[87,5,109,3],[88,4,111,2,"loadSavedGuardian"],[88,21,111,19],[88,23,111,21],[88,29,111,21,"loadSavedGuardian"],[88,30,111,21],[88,35,111,33],[89,6,112,4],[89,10,112,8],[90,8,113,6],[90,14,113,12,"saved"],[90,19,113,17],[90,22,113,20],[90,28,113,26,"AsyncStorage"],[90,40,113,38],[90,41,113,38,"default"],[90,48,113,38],[90,49,113,39,"getItem"],[90,56,113,46],[90,57,113,47],[90,73,113,63],[90,74,113,64],[91,8,114,6],[91,12,114,10,"saved"],[91,17,114,15],[91,19,114,17],[92,10,115,8,"set"],[92,13,115,11],[92,14,115,12],[93,12,115,14,"guardianPhone"],[93,25,115,27],[93,27,115,29,"saved"],[94,10,115,35],[94,11,115,36],[94,12,115,37],[95,8,116,6],[96,6,117,4],[96,7,117,5],[96,8,117,6],[96,15,117,13,"e"],[96,16,117,14],[96,18,117,16],[97,8,118,6,"console"],[97,15,118,13],[97,16,118,14,"error"],[97,21,118,19],[97,22,118,20],[97,54,118,52],[97,56,118,54,"e"],[97,57,118,55],[97,58,118,56],[98,6,119,4],[99,4,120,2],[100,2,121,0],[100,3,121,1],[100,4,121,2],[100,5,121,3],[101,0,121,4],[101,3]],"functionMap":{"names":["<global>","create$argument_0","setGuardianPhone","startTrip","endTrip","addLocation","set$argument_0","setMotionStatus","setLastRiskRule","setTrackingSource","setAccuracy","clearLocations","loadSavedGuardian"],"mappings":"AAA;8CC6C;oBCU;GDQ;aEE;GFQ;WGE;GHO;eIE;QCC;MDE;GJC;mBME;GNE;mBOE;GPE;qBQE;GRE;eSE;GTE;kBUE;GVE;qBWE;GXS;EDC"},"hasCjsExports":false},"type":"js/module"}]}